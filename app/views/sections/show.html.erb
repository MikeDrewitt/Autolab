<% @title = "Manage Sections" %>

<% content_for :javascripts do %>
<%= javascript_include_tag 'chosen.jquery.min' %>
<%= javascript_include_tag "initialize_datetimepickers" %>

<% end %>

<div class="row">
	<div class="col s12 m12"> 
		<h2>Manage Sections</h2>
		<hr>
	</div>
</div>
<div class="row">
	<div class="col s12 m4"> 
		<ul class="collapsible" data-collapsible="accordion">
			<li>
				<div class="collapsible-header"><i class="material-icons"></i><h5>Section Options</h5></div>
				<div class="collapsible-body">
					<ul class="options">
						<li><%= link_to "Manage students in each section", [:users, @course],
							{ title: "Create, modify, and delete user accounts" } %></li>
						</ul>
					</div>
				</li>
			</ul>
		</div>
		<div class="col s12 m8">
			<div class="category">
				<div id='ajaxTable'>
					<%= render :partial=>'sectionsTable' %>
				</div>
			</div>
			<hr>
			<h6>Make a new section or edit an existing one</h6>
			<hr>
			<div class="category">
				<%= form_for :sections, url: course_sections_path, builder: FormBuilderWithDateTimeInput do |f| %>
				<%= f.text_field "name", id: "section_name" %>
				<br>
				<%= f.select(:day, [["Monday",1],["Tuesday",2],["Wednesday",3],["Thursday",4],["Friday",5],["Saturday",6],["Sunday",0]] ,{prompt: 'Select Day Of Week'}, {id: 'sections_day'}) %>
				<br>
				<%= f.time_selecter "start time", id: "section_start_at" %>
				<br>
				<%= f.time_selecter "end time", id: "section_end_at" %>
				<br>
				<%= f.submit "Save" , {:class=>"btn primary"} %>
				<%end%>
			</div>
		</div>
	</div>


<script type="text/javascript">
	//initalize forms with default data
	document.getElementById("sections_day").value = "";
	document.getElementById("section_name").value = "";
</script>
